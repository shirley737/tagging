<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.com/libraries/bodymovin"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.5.9/lottie.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tagging Prototype v3</title>
  </head>
  <body>
    <div id="main">
      <div id="animation"></div>
      <div id="slider" class="swipe" style="visibility: visible;">
        <div class="swipe-wrap" style="width: 2500px;">
          <div
            id="bm1"
            data-index="0"
            style="
              width: 500px;
              left: 0px;
              transition-duration: 300ms;
              transform: translateX(-500px);
            "
          >
            <img
              alt="1"
              src="page1.svg"
              width="356"
              height="146"
              style="align-content: center;"
            />
          </div>
          <div
            id="bm2"
            data-index="1"
            style="
              width: 500px;
              left: -500px;
              transition-duration: 300ms;
              transform: translateX(-500px);
            "
          >
            <img
              alt="2"
              src="page2.svg"
              width="356"
              height="146"
              style="align-content: center;"
            />
          </div>

          <div
            id="bm3"
            data-index="2"
            style="
              width: 500px;
              left: -1000px;
              transition-duration: 300ms;
              transform: translateX(-1000px);
            "
          >
            <img
              alt="3"
              src="page3.svg"
              width="356"
              height="146"
              style="align-content: center;"
            />
          </div>

          <div
            id="bm4"
            data-index="3"
            style="
              width: 500px;
              left: -1500px;
              transition-duration: 300ms;
              transform: translateX(-500px);
            "
          >
            <img
              alt="4"
              src="page4.svg"
              width="356"
              height="146"
              style="align-content: center;"
            />
          </div>

          <div
            id="bm5"
            data-index="4"
            style="
              width: 500px;
              left: -2000px;
              transition-duration: 300ms;
              transform: translateX(-500px);
            "
          >
            <img
              alt="5"
              src="page5.svg"
              width="356"
              height="146"
              style="align-content: center;"
            />
          </div>
        </div>
        <div class="navigation">
          <span id="dot1" style="background-color: #393a3d;"></span>
          <span id="dot2"></span>
          <span id="dot3"></span>
          <span id="dot4"></span>
          <span id="dot5"></span>
        </div>
      </div>

      <div id="button"><img src="btn.svg" width="216" height="36" /></div>
    </div>

    <script src="lottie.js" type="text/javascript"></script>
    <script src="swipe-master/build/swipe.min.js"></script>
    <script>
      var animation1 = {
        container: document.getElementById("animation"),
        renderer: "svg",
        autoplay: false,
        loop: false,
        initialSegment: [0, 354],
        path: "final.json",
      };

      var anim1 = lottie.loadAnimation(animation1);
      anim1.play();

      window.mySwipe = new Swipe(document.getElementById("slider"), {
        startSlide: 0,
        auto: 5950,
        speed: 600,
        draggable: true,
        autoRestart: true,
        continuous: false,
        disableScroll: true,
        stopPropagation: true,
        callback: function (index, element) {},
        transitionEnd: function (index, element) {
          if (index == 0) {
            anim1.playSegments([0, 354], true);
            document.getElementById("dot1").style.backgroundColor = "#393a3d";
            document.getElementById("dot2").style.backgroundColor = "#d4d7dc";
          }
          if (index == 1) {
            anim1.playSegments([355, 583], true);
            document.getElementById("dot1").style.backgroundColor = "#d4d7dc";
            document.getElementById("dot2").style.backgroundColor = "#393a3d";
            document.getElementById("dot3").style.backgroundColor = "#d4d7dc";
          }
          if (index == 2) {
            anim1.playSegments([584, 901], true);
            document.getElementById("dot2").style.backgroundColor = "#d4d7dc";
            document.getElementById("dot3").style.backgroundColor = "#393a3d";
            document.getElementById("dot4").style.backgroundColor = "#d4d7dc";
          }
          if (index == 3) {
            anim1.playSegments([902, 1109], true);
            document.getElementById("dot3").style.backgroundColor = "#d4d7dc";
            document.getElementById("dot4").style.backgroundColor = "#393a3d";
            document.getElementById("dot5").style.backgroundColor = "#d4d7dc";
          }
          if (index == 4) {
            anim1.playSegments([1120, 1408], true);
            document.getElementById("dot4").style.backgroundColor = "#d4d7dc";
            document.getElementById("dot5").style.backgroundColor = "#393a3d";
          }
        },
      });

      var animation2 = {
        container: document.getElementById("animation"),
        renderer: "svg",
        autoplay: false,
        loop: false,
        path: "tag2.json",
      };

      var animation3 = {
        container: document.getElementById("animation"),
        renderer: "svg",
        autoplay: false,
        loop: false,
        path: "tag3.json",
      };

      var animation4 = {
        container: document.getElementById("animation"),
        renderer: "svg",
        autoplay: false,
        loop: false,
        path: "tag4.json",
      };

      var animation5 = {
        container: document.getElementById("animation"),
        renderer: "svg",
        autoplay: false,
        loop: false,
        path: "tag5.json",
      };

      // var anim1 = lottie.loadAnimation(animation1);

      // anim1.addEventListener("DOMLoaded", function () {
      //   anim1.goToAndPlay([0, 354], false);
      // });
    </script>
  </body>
</html>
