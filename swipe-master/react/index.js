"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SwipeItem=exports.Swipe=void 0;var _createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_reactDom=require("react-dom"),_reactDom2=_interopRequireDefault(_reactDom),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_swipejs=require("swipejs"),_swipejs2=_interopRequireDefault(_swipejs);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var noop=function(){},Swipe=function(){function Swipe(e){_classCallCheck(this,Swipe);var t=_possibleConstructorReturn(this,(Swipe.__proto__||Object.getPrototypeOf(Swipe)).call(this,e));return t.state={},t.needsReSetup=!1,t._isMount=!1,t.instance=null,t}return _inherits(Swipe,_react2.default.Component),_createClass(Swipe,[{key:"componentWillReceiveProps",value:function(e){(e.children||[]).length!==(this.props.children||[]).length&&(this.needsReSetup=!0)}},{key:"componentDidUpdate",value:function(){this._isMount&&this.needsReSetup&&(this.setupSwipe(),this.needsReSetup=!1)}},{key:"componentDidMount",value:function(){this._isMount=!0,this.setupSwipe()}},{key:"swipeOptions",value:function(){var e=this.props;return{startSlide:e.startSlide,speed:e.speed,auto:e.auto,draggable:e.draggable,continuous:e.continuous,autoRestart:e.autoRestart,disableScroll:e.disableScroll,stopPropagation:e.stopPropagation,ignore:e.ignore,callback:e.callback,transitionEnd:e.transitionEnd,dragStart:e.dragStart,dragEnd:e.dragEnd}}},{key:"setupSwipe",value:function(){if(this.swipeContainer){var e=this.swipeOptions();this.instance?(this.instance.setup(e),e.auto&&this.instance.restart()):this.instance=new _swipejs2.default(this.swipeContainer,e)}}},{key:"componentWillUnmount",value:function(){this._isMount=!1;try{this.instance.kill()}catch(e){}}},{key:"cloneSwipeItem",value:function(e){var t=Object.assign({},e.props);return delete(t=Object.assign(t,{ref:function(e){var t=_reactDom2.default.findDOMNode(e);t&&t.setAttribute("data-cloned",!0)},key:String(Math.random()).valueOf()})).id,_react2.default.createElement(SwipeItem,t,e.props.children)}},{key:"render",value:function(){var t=this,e=this.props,r=e.className,n=e.style,o=void 0;return e.continuous?2===(o=[].concat(this.props.children)).length&&(o.push(this.cloneSwipeItem(o[0])),o.push(this.cloneSwipeItem(o[1]))):o=this.props.children,_react2.default.createElement("div",{ref:function(e){return t.swipeContainer=e},className:"swipe "+(r||""),style:n},_react2.default.createElement("div",{className:"swipe-wrap"},o))}}]),Swipe}(),SwipeItem=function(){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={},t}return _inherits(r,_react2.default.Component),_createClass(r,null,[{key:"propTypes",get:function(){return{className:_propTypes2.default.string,onClick:_propTypes2.default.func,style:_propTypes2.default.object}}},{key:"defaultProps",get:function(){return{className:"",onClick:noop,style:{}}}}]),_createClass(r,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.onClick,n=e.style,o=e.children;return _react2.default.createElement("div",{className:"swipe-item "+(t||""),onClick:r,style:n},o)}}]),r}();function proxyMethods(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t.map(function(e){Swipe.prototype[e]=function(){if(this.instance)return this.instance[e].apply(this.instance,arguments)}})}Swipe.defaultProps={className:"",style:{},startSlide:0,speed:300,auto:3e3,draggable:!1,continuous:!1,autoRestart:!1,disableScroll:!1,stopPropagation:!1,ignore:null,callback:noop,transitionEnd:noop,dragStart:noop,dragEnd:noop},Swipe.propTypes={className:_propTypes2.default.string,style:_propTypes2.default.object,startSlide:_propTypes2.default.number,speed:_propTypes2.default.number,auto:_propTypes2.default.number,draggable:_propTypes2.default.bool,continuous:_propTypes2.default.bool,autoRestart:_propTypes2.default.bool,disableScroll:_propTypes2.default.bool,stopPropagation:_propTypes2.default.bool,ignore:_propTypes2.default.string,callback:_propTypes2.default.func,transitionEnd:_propTypes2.default.func,dragStart:_propTypes2.default.func,dragEnd:_propTypes2.default.func},proxyMethods("prev","next","getPos","getNumSlides","slide","restart","stop","setup","disable","enable","kill"),exports.default=Swipe,exports.Swipe=Swipe,exports.SwipeItem=SwipeItem;